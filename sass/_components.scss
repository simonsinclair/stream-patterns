// _components.scss
//

// Set similar defaults as Live for all components.
// We don't use .markup in the Demo tab, which is why
// we need to set these defaults for that here too.
.markup,
.panel--demo {
  color: #000;
  font-family: Arial, sans-serif;

  h1,
  h2,
  h3 {
    letter-spacing: 0;
  }
}

// CONTAINERS
/////////////|

// Used to get content in the 'Stream column'.
// The grid implementation on Live handles this.
%fit--stream {
  margin: 0;

  @include respond-to(C) {
    margin: 0 16.66667%;
  }
}

// The Posts container
.stream__posts {
  margin-right: 16px;
  margin-left: 16px;

  > .stream__post:first-child {
    border-top: none;
    padding-top: 0;
  }
}

// A Post container
// Contains: Timestamp, Content
.stream__post {
  border-top: 1px solid #E5E5E5;
  margin-top: 24px;
  padding-top: 24px;
}
  .stream__content {
    @extend %fit--stream;
  }

// DEMO TAB
// Some components' styles change when in use.
/////////////////////////////////////////////|

.panel--demo {

  .stream__posts {
    @extend %clearfix;
  }
  .timestamp {

    @include respond-to(C) {
      float: left;
    }
  }
}

// TOP STORIES
// Section
//////////////|

.top-stories {

  .title {

    .heading {
      @extend %great-primer;
      color: #333;
      margin-top: 16px;
      margin-bottom: 12px;

      @include respond-to(C) {
        margin-top: 20px;
        margin-bottom: 16px;
      }
    }

      // Red line, or 'branch'.
      .heading__stitch {
        background-color: #CC0101;
        height: 1px;
        margin-bottom: 4px;
        width: 40px;

        @include respond-to(C) {
          margin-bottom: 6px;
        }
        @include respond-to(D) {
          margin-bottom: 4px;
        }
      }
  }

} // End of .top-stories component.

// STREAM
// Section
//////////|

.stream {


  // Furniture tab
  // -------------

  .header {

    .header-wrap {
      background: #EEE;
      overflow: hidden;
      padding: 10px 8px 12px;
      position: relative;

      @include respond-to(C) {
        padding: 14px 16px 16px;
      }

      // Heading group.
      h2 {
        @extend %great-primer;
        font-weight: normal;
        margin-top: 0;
        margin-bottom: 0;
        overflow: hidden;
        padding-right: 48px;
        text-overflow: ellipsis;
        white-space: nowrap;
      }

        // Latest label.
        .latest {
          @extend %minion;
          background-color: #CC0101;
          color: #FFF;
          margin-right: 2px;
          padding: 2px 4px;
          text-transform: uppercase;
          vertical-align: middle;
        }

        // Current locale.
        .location {
          vertical-align: middle;
        }

      // Refresh button group.
      button {
        @extend %pica;
        background-color: #777;
        color: #FFF;
        font-weight: bold;
        padding: 6px 8px;
        position: absolute;
          top: 6px; right: 8px;
        -webkit-font-smoothing: antialiased;

        @include respond-to(C) {
          top: 12px; right: 16px;
          padding: 6px 10px 6px 8px;
        }
        @include respond-to(D) {
          top: 10px;
        }

        &:hover {
          background-color: #888;
        }

        .icon--refresh {
          height: 22px;
          width: 22px;
          // transform: rotate(-45deg); // Used for testing
          vertical-align: middle;
        }
      }
    }
    .header__refresh-text {
      display: none;
      margin-right: 2px;
      vertical-align: middle;

      @include respond-to(C) {
        display: inline;
      }
    }
  }

  .timestamp {

    time {
      @extend %pica;
      color: #606060;
      margin-top: 8px;
    }
  }

  .show-more {

    a {
      @extend %fit--stream;

      color: #FFF;
      border-bottom: 2px solid #315E2C;
      background-color: #499243;
      display: block;
      font-size: 16px;
      font-weight: bold;
      line-height: 22px;
      padding: 10px;
      text-align: center;
      -webkit-font-smoothing: antialiased;

      &:hover {
        background-color: #4F9E48;
      }
      &:active {
        margin-top: 1px;
        border-bottom-width: 1px;
      }
    }
  }

  .refresh-error,
  .show-more-error {

    p {
      color: #999;
    }
  }


  // Content tab
  // -----------

  .headline {

    h2 {
      @extend %double-pica;
      font-weight: bold;
      margin-top: 0; // Review
      margin-bottom: 0; // Review
    }
  }

  .body-copy {

    p {
      @extend %pica;
      color: #767676;
    }
  }

  .inline-link {

    p {
      @extend %pica;
      color: #767676;

      > a {
        border-bottom: 1px solid #DCDCDC;
        color: #000;

        &:hover {}

        &::after {}
      }
    }
  }
  .inline-link--external {

    p {

      > a {

        &::after {
          @extend .icon, .icon--xs;
          @extend .icon--external;
          content: '';
          margin-right: 2px;
          margin-left: 4px;
        }
      }
    }
  }

  .unordered-list {

    p,
    ul {
      @extend %pica;
      color: #767676;
    }
    ul {
      padding-left: 1em;
    }
      li {
        margin-bottom: 8px;

        &:last-child {
          margin-bottom: 0;
        }
      }
  }

  .contributor {}
    .contributor__avatar,
    .contributor__body {
      display: table-cell;
      vertical-align: middle;
    }

    .contributor__avatar {
      padding-right: 8px;

      > img {
        background-color: #EEE;
        border-radius: 50%;
        display: block;
        max-width: none;
      }
    }
    .contributor__body {
      width: 100%;

      p {
        @extend %brevier;
        color: #B3B3B3;
        margin-top: 0;
        margin-bottom: 0;

        &.contributor__name {
          margin-bottom: 4px;
        }
      }
      strong {
        color: #767676;
        font-weight: normal;
      }
    }

  .read-full-cta {

    a {
      @extend %pica;
      position: relative;

      &::after {
        @extend .icon, .icon--xs;
        @extend .icon--chevron-r-brand;
        content: '';
        margin-left: 4px;
        position: relative;
          bottom: -1px;
      }
    }
  }

  // Post Types

  .quote {

    blockquote {
      @extend %great-primer;
      color: #000;
      font-family: Georgia, serif;
      font-style: italic;
      position: relative;

      &::before {
        @extend .icon;
        @extend .icon--quote;
        content: '';
        position: absolute;
          top: 0; left: -40px;
      }

      cite {
        font-family: Arial, sans-serif;
        font-style: normal;
      }
    }
  }

  .email {

    blockquote {
      @extend %pica;
      color: #767676;
      position: relative;

      &::before {
        @extend .icon;
        @extend .icon--email;
        content: '';
        position: absolute;
          top: 0; left: -40px;
      }

      cite {
        font-style: normal;
      }
    }
  }

  .tweet {}
    .tweet__wrap {
      border: 1px solid #DDD;
      padding: 16px;

      time {
        @extend %brevier;
        color: #B3B3B3;
        display: block;
      }
    }
      .tweet__image,
      .tweet__title-group {
        display: table-cell;
        vertical-align: middle;
      }

      .tweet__image {
        padding-right: 8px;

        > img {
          background-color: #EEE;
          display: block;
          height: 40px;
          width: 40px;
          max-width: none;
        }
      }
      .tweet__title-group {
        width: 100%;

        p {
          @extend %brevier;
          color: #B3B3B3;
          margin-top: 0;
          margin-bottom: 0;

          &.contributor__name {
            margin-bottom: 4px;
          }
        }
        strong {
          color: #767676;
          font-weight: normal;
        }
      }
      .tweet__body {

        p {
          @extend %pica;
          color: #767676;

          > a {
            border-bottom: 1px solid #DCDCDC;
            color: #000;

            &:hover {}

            &::after {}
          }
        }
        img {
          display: block;
          max-width: 100%;
        }
      }

  .cps-tweet {}
    .cps-tweet__wrap {
      margin-left: 40px;
      position: relative;

      p {
        @extend %pica;
        color: #767676;

        > a {
          border-bottom: 1px solid #DCDCDC;
          color: #000;

          &:hover {}

          &::after {}
        }
      }

      &::before {
        @extend .icon;
        @extend .icon--twitter;
        content: '';
        position: absolute;
          top: 0; left: -40px;
      }
    }

  .sms {

    blockquote {
      @extend %pica;
      color: #767676;
      position: relative;

      &::before {
        @extend .icon;
        @extend .icon--sms;
        content: '';
        position: absolute;
          top: 0; left: -40px;
      }

      cite {
        font-style: normal;
      }
    }
  }

  .media {

    img {
      display: block;
      margin: 0 auto;
      width: 100%; // Always fill the container - upscale if necessary.
    }
  }
  .media--portrait {

    img {
      max-height: 358px; // Prevent portrait images being taller than their 16:9 counterparts
      max-width: 100%;
      width: auto;
    }
  }


} // End of .stream component.
