// _components.scss
//

// Reset markup 'canvases' to use Live defaults.
.markup {
  color: #000;
  font-family: Arial, sans-serif;

  h1,
  h2,
  h3 {
    letter-spacing: 0;
  }
}

// Set up stream-contents column as if on Live.
.stream__posts {
  max-width: 646px;
}

// TOP STORIES
//////////////|

.top-stories {

  .title {

    .heading {
      @extend %great-primer;
      color: #333;
      margin-top: 0;
      margin-bottom: 0;
    }

      // Red line, or 'branch'.
      .heading__stitch {
        background-color: #CC0101;
        height: 2px;
        margin-bottom: 4px;
        width: 36px;

        @include respond-to(C) {
          margin-bottom: 6px;
        }
        @include respond-to(D) {
          margin-bottom: 4px;
        }
      }
  }

} // End of .top-stories component.

// STREAM
/////////|

.stream {


  // Furniture
  // ---------

  .header {

    .header-wrap {
      background: #EEE;
      overflow: hidden;
      padding: 10px 8px 12px;
      position: relative;

      @include respond-to(C) {
        padding: 14px 16px 16px;
      }

      // Heading group.
      h2 {
        @extend %great-primer;
        font-weight: normal;
        margin-top: 0;
        margin-bottom: 0;
        overflow: hidden;
        padding-right: 48px;
        text-overflow: ellipsis;
        white-space: nowrap;
      }

        // Latest label.
        .latest {
          @extend %minion;
          background-color: #CC0101;
          color: #FFF;
          margin-right: 2px;
          padding: 2px 4px;
          text-transform: uppercase;
          vertical-align: middle;
        }

        // Current locale.
        .location {
          vertical-align: middle;
        }

      // Refresh button group.
      button {
        @extend %pica;
        background-color: #777;
        color: #FFF;
        font-weight: bold;
        padding: 5px 8px 7px;
        position: absolute;
          top: 7px; right: 8px;
        -webkit-font-smoothing: antialiased;

        @include respond-to(C) {
          padding: 6px 8px;
          top: 12px; right: 16px;
        }
        @include respond-to(D) {
          top: 11px;
        }

        &:hover {
          background-color: #888;
        }

        // 'Refresh' text.
        span {
          display: none;
          margin-right: 2px;
          vertical-align: middle;

          @include respond-to(C) {
            display: inline;
          }
        }

        // Refresh icon.
        img {
          height: 20px;
          width: 20px;
          vertical-align: middle;
        }
      }
    }
  }

  .timestamp {

    time {
      @extend %pica;
      color: #606060;
    }
  }

  .show-more {

    button {
      color: #FFF;
      border-bottom: 2px solid #315E2C;
      background-color: #499243;
      font-size: 16px;
      font-weight: bold;
      line-height: 22px;
      padding: 10px;
      width: 100%;
      -webkit-font-smoothing: antialiased;

      &:hover {
        background-color: #4F9E48;
      }
      &:active {
        margin-top: 1px;
        border-bottom-width: 1px;
      }
    }
  }

  .refresh-error,
  .show-more-error {

    p {
      color: #999;
    }
  }


  // Posts
  // -----

  .headline {

    h2 {
      @extend %double-pica;
      font-weight: bold;
      margin-top: 0; // Review
      margin-bottom: 0; // Review
    }
  }

  .body-copy {

    p {
      @extend %pica;
      color: #767676;
    }
  }

  .inline-link {

    p {
      @extend %pica;
      color: #767676;

      > a {
        border-bottom: 1px solid #DCDCDC;
        color: #000;

        &:hover {}

        &::after {}
      }
    }
  }
  .inline-link--external {

    p {

      > a {

        &::after {
          content: '[Icon here]';
          display: inline-block;
        }
      }
    }
  }

  .unordered-list {

    p,
    ul {
      @extend %pica;
      color: #767676;
    }
    ul {
      padding-left: 1em;
    }
      li {
        margin-bottom: 8px;

        &:last-child {
          margin-bottom: 0;
        }
      }
  }

  .contributor {}
    .contributor__avatar,
    .contributor__body {
      display: table-cell;
      vertical-align: middle;
    }

    .contributor__avatar {
      padding-right: 8px;

      > img {
        background-color: #EEE;
        border-radius: 50%;
        display: block;
        max-width: none;
      }
    }
    .contributor__body {
      width: 100%;

      p {
        @extend %brevier;
        color: #B3B3B3;
        margin-top: 0;
        margin-bottom: 0;

        &.contributor__name {
          margin-bottom: 4px;
        }
      }
      strong {
        color: #767676;
        font-weight: normal;
      }
    }

  .read-full-cta {

    a {
      @extend %pica;

      &::after {
        content: "[Icon here]";
        display: inline-block;
        margin-left: 4px;
      }
    }
  }

  // TYPES
  ////////|

  .quote {

    blockquote {
      @extend %great-primer;
      color: #000;
      font-family: Georgia, serif;
      font-style: italic;
      position: relative;

      &::before {
        @extend %icon;
        background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgdmlld0JveD0iMCAwIDMyIDMyIj48cGF0aCBkPSJNMTYgMTkuMzdsMTYtMTQuOTR2LTEuNDNoLTMydjI2aDMydi0yMWwtNCA0djEzaC0yNHYtMTYuODNsMTIgMTEuMnptMC0yLjc2bC0xMC4xOS05LjYxaDIwLjM4bC0xMC4xOSA5LjYxeiIvPjwvc3ZnPg==');
        position: absolute;
          top: 0; left: -40px;
        // Jo
      }

      cite {
        font-family: Arial, sans-serif;
        font-style: normal;
      }
    }
  }

  .email {

    blockquote {
      @extend %pica;
      color: #767676;

      &::before {
        @extend %icon;
      }

      cite {
        font-style: normal;
      }
    }
  }

  .tweet {}
    .tweet__wrap {
      border: 1px solid #DDD;
      padding: 16px;

      time {
        @extend %brevier;
        color: #B3B3B3;
        display: block;
      }
    }
      .tweet__image,
      .tweet__title-group {
        display: table-cell;
        vertical-align: middle;
      }

      .tweet__image {
        padding-right: 8px;

        > img {
          background-color: #EEE;
          display: block;
          height: 40px;
          width: 40px;
          max-width: none;
        }
      }
      .tweet__title-group {
        width: 100%;

        p {
          @extend %brevier;
          color: #B3B3B3;
          margin-top: 0;
          margin-bottom: 0;

          &.contributor__name {
            margin-bottom: 4px;
          }
        }
        strong {
          color: #767676;
          font-weight: normal;
        }
      }
      .tweet__body {

        p {
          @extend %pica;
          color: #767676;

          > a {
            border-bottom: 1px solid #DCDCDC;
            color: #000;

            &:hover {}

            &::after {}
          }
        }
        img {
          display: block;
          max-width: 100%;
        }
      }

  .cps-tweet {}
    .cps-tweet__wrap {

      p {
        @extend %pica;
        color: #767676;

        > a {
          border-bottom: 1px solid #DCDCDC;
          color: #000;

          &:hover {}

          &::after {}
        }
      }
    }

  .sms {

    blockquote {
      @extend %pica;
      color: #767676;

      &::before {

        @extend %icon;
      }

      cite {
        font-style: normal;
      }
    }
  }

  .media {

    img {
      display: block;
      margin: 0 auto;
      width: 100%; // Always fill the container - upscale if necessary.
    }
  }
  .media--portrait {

    img {
      max-height: 358px; // Prevent portrait images being taller than their 19:9 counterparts
      max-width: 100%;
      width: auto;
    }
  }


} // End of .stream component.
